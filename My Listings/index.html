<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Listings | Lost & Found – University of Phayao</title>
<link rel="stylesheet" href="/My Listings/index.css">


</head>

<body>

<header>
  <div class="nav">
    <div class="logo">
      <img src="/icons/web icon.png">
      <a href="/Landing Page/index 1.html">Lost & Found<br>University of Phayao</a>
    </div>

    <nav class="nav-links">
      <div class="nav-item"><img src="/icons/checklist.png"><a href="/Search/index.html">Browsing Lists</a></div>
      <div class="nav-item"><img src="/icons/create-list.png"><a href="/Report/index.html">Create Listing</a></div>
      <div class="nav-item">
        <img src="/icons/log-in.png"><a href="/Log in/index.html">Log in</a>
      </div>
      <div class="icon-btn"><img src="/icons/internet.png"></div>
      <div class="language">
        <select><option>English</option><option>Thai</option></select>
      </div>
    </nav>
  </div>
</header>

<main class="container">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <h4>My Listings</h4>
    <ul>
      <li class="active"><img src="/icons/checklist.png"><a href="/My Listings/index.html">My Listings</a></li>
      <li><img src="/icons/bookmark.png"><a href="/Favorites/index.html">Favorite Listings</a></li>
      <li><img src="/icons/bell.png"><a href="/Notification/index.html">Notifications</a></li>
    </ul>

    <h4>My Account</h4>
    <ul>
      <li><img src="/icons/user.png"><a href="/Account/index.html">My Account</a></li>
      <li><img src="/icons/logout.png"><a href="/Log in/index.html">Log out</a></li>
      <li><img src="/icons/cross.png"><a href="/Close Account/index.html">Close Account</a></li>
    </ul>
  </aside>

  
  <!-- MAIN -->
  <section class="main-card">
    <div class="main-header">
      <img src="/icons/megaphone.png" alt="">
      <h1>
          My Listings
      </h1>
    </div>

    <div class="toolbar">
      <div class="toolbar-left">
        <label><input type="checkbox"> Select All</label>
        <img src="/icons/bin.png" alt="">
        <span style="cursor: pointer;">Delete</span>
      </div>
      <div class="toolbar-right">
        Search <input type="text">
      </div>
    </div>

    <div class="grid">

      <!-- CARD -->
    <div class="card" data-id="item-1" onclick="openModal(this)">
      <div class="card-img">
        <img src="https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f">
      </div>

      <div class="card-body">
        <div class="title-row">
          <h3>My Yeti Cup</h3>
          <div class="status-row">
            <span class="status lost">Lost</span>
            <img class="report-icon" src="/icons/marketing.png">
          </div>
        </div>

        <span class="category">Personal Items</span>
        <p class="desc">Lost near the main library on campus. Black case with a small crack...</p>

        <div class="info"><img src="/icons/location.png">Found Place</div>
        <div class="info"><img src="/icons/calendar.png">Day/Month/Year</div>
        <div class="info"><img src="/icons/mail.png">someone@email.com</div>

        <div class="price">550 BATH</div>
      </div>

      <div class="bookmark">
        <img
          src="/icons/bookmark.png"
          class="bookmark-icon"
          onclick="toggleBookmark(event, this)"
        >
      </div>
    </div>

      <!-- CARD -->
    <div class="card" data-id="item-2" onclick="openModal(this)">
      <div class="card-img">
        <img src="https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f">
      </div>

      <div class="card-body">
        <div class="title-row">
          <h3>My Yeti Cup</h3>
          <div class="status-row">
            <span class="status lost">Lost</span>
            <img class="report-icon" src="/icons/marketing.png">
          </div>
        </div>

        <span class="category">Personal Items</span>
        <p class="desc">Lost near the main library on campus. Black case with a small crack...</p>

        <div class="info"><img src="/icons/location.png">Found Place</div>
        <div class="info"><img src="/icons/calendar.png">Day/Month/Year</div>
        <div class="info"><img src="/icons/mail.png">someone@email.com</div>

        <div class="price">550 BATH</div>
      </div>

      <div class="bookmark">
        <img
          src="/icons/bookmark.png"
          class="bookmark-icon"
          onclick="toggleBookmark(event, this)"
        >
      </div>
    </div>

      <!-- CARD -->
    <div class="card" data-id="item-3" onclick="openModal(this)">
      <div class="card-img">
        <img src="https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f">
      </div>

      <div class="card-body">
        <div class="title-row">
          <h3>My Yeti Cup</h3>
          <div class="status-row">
            <span class="status lost">Lost</span>
            <img class="report-icon" src="/icons/marketing.png">
          </div>
        </div>

        <span class="category">Personal Items</span>
        <p class="desc">Lost near the main library on campus. Black case with a small crack...</p>

        <div class="info"><img src="/icons/location.png">Found Place</div>
        <div class="info"><img src="/icons/calendar.png">Day/Month/Year</div>
        <div class="info"><img src="/icons/mail.png">someone@email.com</div>

        <div class="price">550 BATH</div>
      </div>

      <div class="bookmark">
        <img
          src="/icons/bookmark.png"
          class="bookmark-icon"
          onclick="toggleBookmark(event, this)"
        >
      </div>
    </div>

    </div>

     <div class="pagination">
      <div class="page active" onclick="goPage(1)">1</div>
      <div class="page" onclick="goPage(2)">2</div>
      <div class="page" onclick="goPage(3)">3</div>
      <div class="page" onclick="goPage(4)">4</div>
    </div>

  </section>

</main>

<footer class="footer">

  <div class="footer-container">

    <!-- Brand -->
    <div class="footer-brand">
      <div class="footer-brand-title">
        <img src="/icons/web icon.png" alt="logo">
        <a href="/Landing Page/index 1.html">
          <h2>Lost & Found<br>University of Phayao</h2>
        </a>
      </div>

      <small>CONTACT US ON</small>

      <div class="social">
        <img src="/icons/gmail.png" alt="facebook">
        <h1>Jiraphong.Kafae@gmail.com</h1>
      </div>
    </div>

    <!-- About -->
    <div class="footer-col">
      <h4>About us</h4>
      <ul>
        <li><a href="/Terns and Sevices/index.html">Terms & Services</a></li>
      </ul>
    </div>

   <div class="footer-col">
      <h4>Contents</h4>
      <ul>
        <li><a href="/Landing Page/index 1.html">Home Page</a></li>
        <li><a href="/Search/index.html">Browsing Lists</a></li>
        <li><a href="/Report/index.html">Create Listing</a></li>
      </ul>
    </div>

    <!-- Account -->
    <div class="footer-col">
      <h4>My Account</h4>
      <ul>
        <li><a href="/Account/index.html">Account</a></li>
        <li><a href="/Log in/index.html">Log in</a></li>
        <li><a href="/Register/index.html">Register</a></li>
      </ul>
    </div>


  </div>

  <div class="footer-divider"></div>

  <div class="footer-bottom">
    lostandfounduniversityofphayao.com. All rights reserved. © 2025
  </div>

</footer>

<!-- ===== MODAL ===== -->
<div class="modal-overlay" id="modalOverlay">
  <div class="modal">
    <img id="modalImg">
    <div class="modal-body">
      <div class="modal-title-row">
        <h3 id="modalTitle"></h3>
        <span id="modalStatus" class="status"></span>
        <img src="/icons/marketing.png" class="report-icon"
        onclick="event.stopPropagation(); openReport();">
      </div>
      <span class="category" id="modalCategory"></span>
      <p class="desc" id="modalDesc"></p>


      <div class="info"><img src="/icons/location.png">Found Place</div>
      <div class="info"><img src="/icons/calendar.png">Day/Month/Year</div>
      <div class="info"><img src="/icons/mail.png">someone@email.com</div>

     
      
      <div class="modal-types">
        <h4>Contacts</h4>
        <span class="status lost" id="status lost"></span>
        <img
          src="/icons/bookmark.png"
          class="bookmark-icon"
          id="modalBookmark"
          onclick="toggleBookmark(event, this)"
        > 
        </div>
      
      <hr style="margin:1rem 0">
      <h2>Choose atleast 1 to request contact</h2>

      <div class="contacts">
        <label class="contact"><input type="checkbox"><img src="/icons/facebook.png">facebook.com</label>
        <label class="contact"><input type="checkbox"><img src="/icons/line.png">line.com</label>
        <label class="contact"><input type="checkbox"><img src="/icons/instagram.png">instagram.com</label>
        <label class="contact"><input type="checkbox"><img src="/icons/telegram.png">telegram.com</label>
        <label class="contact"><input type="checkbox"><img src="/icons/x.png">x.com</label>
      </div>

      <div class="modal-actions">
        <button class="btn btn-primary" style="cursor: pointer;">Request</button>
        <button class="btn btn-cancel"style="cursor: pointer;" onclick="closeModal()" >Cancel</button>
      </div>
    </div>
  </div>
</div>

<!-- ================= REPORT MODAL ================= -->
<div class="modal-overlay" id="reportOverlay">
  <div class="report-modal">
    <div class="report-header">
      <h3>Report</h3>
      <button class="report-close" onclick="closeReport()">✕</button>
    </div>

    <div class="report-body">
      <label><input type="checkbox"> Inappropriate</label>
      <label><input type="checkbox"> False Information</label>
      <label><input type="checkbox"> Sexual Content</label>
      <label><input type="checkbox"> Hate Spreading</label>
      <label><input type="checkbox"> Spam</label>
      <label><input type="checkbox"> Others Reasons</label>
    </div>

    <div class="report-actions">
      <button class="btn-report">Report</button>
      <button class="btn-cancel" onclick="closeReport()">Cancel</button>
    </div>
  </div>
</div>
<script>
let currentCardId = null;

/* ===== OPEN MODAL ===== */
function openModal(card){
  currentCardId = card.dataset.id;

  document.getElementById("modalOverlay").classList.add("active");

  document.getElementById("modalImg").src =
    card.querySelector(".card-img img").src;

  document.getElementById("modalTitle").innerText =
    card.querySelector("h3").innerText;

  const status = card.querySelector(".status");
  const modalStatus = document.getElementById("modalStatus");
  modalStatus.innerText = status.innerText;
  modalStatus.className = "status " + status.classList[1];

  document.getElementById("modalCategory").innerText =
    card.querySelector(".category").innerText;

  document.getElementById("modalDesc").innerText =
    card.querySelector(".desc").innerText;

  document.getElementById("status lost").innerText =
    status.innerText;

  syncModalBookmark();
}

/* ===== BOOKMARK TOGGLE ===== */
function toggleBookmark(event, img){
  event.stopPropagation();

  const cardId = currentCardId || img.closest(".card")?.dataset.id;
  if(!cardId) return;

  const key = "bookmark_" + cardId;
  const isSaved = localStorage.getItem(key) === "true";

  localStorage.setItem(key, !isSaved);

  updateBookmarkUI(cardId);
}

/* ===== UPDATE UI ===== */
function updateBookmarkUI(cardId){
  const isSaved = localStorage.getItem("bookmark_" + cardId) === "true";
  const icon = isSaved ? "/icons/favorite.png" : "/icons/bookmark.png";

  // update card
  const card = document.querySelector(`.card[data-id="${cardId}"]`);
  if(card){
    const img = card.querySelector(".bookmark-icon");
    if(img) img.src = icon;
  }

  // update modal
  const modalIcon = document.getElementById("modalBookmark");
  if(modalIcon) modalIcon.src = icon;
}

/* ===== SYNC MODAL WHEN OPEN ===== */
function syncModalBookmark(){
  if(currentCardId){
    updateBookmarkUI(currentCardId);
  }
}

/* ===== INIT ON PAGE LOAD ===== */
window.addEventListener("DOMContentLoaded",()=>{
  document.querySelectorAll(".card").forEach(card=>{
    updateBookmarkUI(card.dataset.id);
  });
});

/* ===== CLOSE MODAL ===== */
function closeModal(){
  document.getElementById("modalOverlay").classList.remove("active");
}

document.getElementById("modalOverlay").addEventListener("click",e=>{
  if(e.target.id==="modalOverlay") closeModal();
});

function openReport(){
  document.getElementById("reportOverlay").classList.add("active");
}

function closeReport(){
  document.getElementById("reportOverlay").classList.remove("active");
}

</script>



<script>
const ITEMS_PER_PAGE = 6; // 3 คอลัมน์ x 2 แถว
let currentPage = 1;

function goPage(page){
  currentPage = page;

  const cards = document.querySelectorAll(".card");
  const start = (page - 1) * ITEMS_PER_PAGE;
  const end = start + ITEMS_PER_PAGE;

  cards.forEach((card, index) => {
    card.style.display =
      index >= start && index < end ? "flex" : "none";
  });

  updatePaginationUI(page);
  window.scrollTo({ top: 0, behavior: "smooth" });
}

function updatePaginationUI(page){
  document.querySelectorAll(".page").forEach(p=>{
    p.classList.remove("active");
    if(Number(p.innerText) === page){
      p.classList.add("active");
    }
  });
}

// init
document.addEventListener("DOMContentLoaded",()=>{
  goPage(1);
});
</script>

</body>
</html>
